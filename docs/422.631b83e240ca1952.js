"use strict";(self.webpackChunkProjectTea=self.webpackChunkProjectTea||[]).push([[422],{2422:(I,g,p)=>{p.r(g),p.d(g,{OrderModule:()=>E});var v=p(6895),f=p(646),t=p(433),u=p(8256),h=p(529);let F=(()=>{class e{constructor(n){this.http=n}createOrderServices(n){return this.http.post("https://testologia.ru/order-tea",n)}}return e.\u0275fac=function(n){return new(n||e)(u.LFG(h.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Z(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430. "),u.qZA())}function b(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f. "),u.qZA())}function y(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e. "),u.qZA())}function C(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. "),u.qZA())}function O(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443. "),u.qZA())}function A(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441. "),u.qZA())}function q(e,o){1&e&&(u.TgZ(0,"div",28),u._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441. "),u.qZA())}const T=[{path:"",component:(()=>{class e{constructor(n,r,l,i,d){this.el=n,this.activeRoute=r,this.route=l,this.fb=i,this.orderServices=d,this.subscription=null,this.subscriptionOrder=null,this.reactForm=this.fb.group({name:["",[t.kI.required,t.kI.pattern("^[\u0430-\u044f\u0410-\u042f\u0451\u0401a-zA-Z]+$")]],last_name:["",[t.kI.required,t.kI.pattern("^[\u0430-\u044f\u0410-\u042f\u0451\u0401a-zA-Z]+$")]],phone:["",[t.kI.required,t.kI.pattern("^\\+?\\d{11}$")]],country:["",[t.kI.required,t.kI.pattern("^[\u0430-\u044f\u0410-\u042fa-zA-Z0-9 \\-\\/]+$")]],zip:["",[t.kI.required,t.kI.pattern("^\\d{5}$")]],product:["",t.kI.required],address:["",t.kI.required],comment:[""]})}ngOnInit(){this.subscription=this.activeRoute.queryParams.subscribe({next:n=>{n.product&&this.reactForm.patchValue({product:n.product})},error:()=>{this.route.navigate(["/"])}})}createOrder(){if(this.reactForm.invalid)return;const n=this.el.nativeElement.querySelector(".form-order"),r=this.el.nativeElement.querySelector(".form-order-success"),l=this.el.nativeElement.querySelector(".submit-error");this.subscriptionOrder=this.orderServices.createOrderServices(this.reactForm.value).subscribe({next:i=>{i.success&&!i.message&&(n.style.display="none",r.style.display="block",setTimeout(()=>{this.route.navigate(["/"]),this.reactForm.reset()},3e3))},error:()=>{l.style.display="block",setTimeout(()=>{l.style.display="none"},3e3)}})}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionOrder?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(u.Y36(u.SBq),u.Y36(f.gz),u.Y36(f.F0),u.Y36(t.qu),u.Y36(F))},e.\u0275cmp=u.Xpm({type:e,selectors:[["order-component"]],decls:56,vars:9,consts:[[1,"container","d-flex","flex-column","align-items-center","justify-content-center","min-vh-100","d-inline-block"],[1,"form-order"],[1,"text-dark","text-center","mb-5","fw-bold"],[1,"d-flex","justify-content-center"],["id","orderForm",1,"align-self-center",3,"formGroup","ngSubmit"],[1,"row","mb-2"],[1,"col-md-6","col-sm-12"],["for","country",1,"form-label"],["type","text","formControlName","product","id","product","readonly","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","index",1,"form-label"],["formControlName","comment","id","comment","placeholder","\u041f\u043e\u043b\u0435 \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435.",1,"form-control"],[1,"col-md-4","col-sm-12"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name",1,"form-control"],["for","lastName",1,"form-label"],["type","text","formControlName","last_name","id","lastName",1,"form-control"],["for","phone",1,"form-label"],["type","text","formControlName","phone","id","phone","maxlength","12","placeholder","+375 _ _ _ _ _ _ _ _",1,"form-control"],["type","text","formControlName","country","id","country",1,"form-control"],["formControlName","zip","id","index","maxlength","5","placeholder","_ _ _ _ _",1,"form-control"],[1,"row"],[1,"col-md-12","col-sm-12"],["for","address",1,"form-label"],["type","text","formControlName","address","id","address",1,"form-control"],[1,"btn","btn-primary","mt-3","col-md-3","col-sm-6",3,"disabled"],[1,"submit-error","mt-3","fw-bold"],[1,"form-order-success"],[1,"invalid-feedback"]],template:function(n,r){if(1&n&&(u.TgZ(0,"section",0)(1,"div",1)(2,"h2",2),u._uU(3,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"),u.qZA(),u.TgZ(4,"div",3)(5,"form",4),u.NdJ("ngSubmit",function(){return r.createOrder()}),u.TgZ(6,"div",5)(7,"div",6)(8,"label",7),u._uU(9,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,Z,2,0,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),u.qZA(),u._UZ(15,"input",11),u.qZA()(),u.TgZ(16,"div",5)(17,"div",12)(18,"label",13),u._uU(19,"\u0418\u043c\u044f"),u.qZA(),u._UZ(20,"input",14),u.YNc(21,b,2,0,"div",9),u.qZA(),u.TgZ(22,"div",12)(23,"label",15),u._uU(24,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,y,2,0,"div",9),u.qZA(),u.TgZ(27,"div",12)(28,"label",17),u._uU(29,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(30,"input",18),u.YNc(31,C,2,0,"div",9),u.qZA()(),u.TgZ(32,"div",5)(33,"div",6)(34,"label",7),u._uU(35,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(36,"input",19),u.YNc(37,O,2,0,"div",9),u.qZA(),u.TgZ(38,"div",6)(39,"label",10),u._uU(40,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(41,"input",20),u.YNc(42,A,2,0,"div",9),u.qZA()(),u.TgZ(43,"div",21)(44,"div",22)(45,"label",23),u._uU(46,"\u0410\u0434\u0440\u0435\u0441:"),u.qZA(),u._UZ(47,"input",24),u.YNc(48,q,2,0,"div",9),u.qZA()(),u.TgZ(49,"button",25),u._uU(50,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),u.qZA(),u.TgZ(51,"div",26),u._uU(52,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA()()()(),u.TgZ(53,"div",27)(54,"h1",2),u._uU(55,"\xab\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!\xbb"),u.qZA()()()),2&n){let l,i,d,a,c,m,s;u.xp6(5),u.Q6J("formGroup",r.reactForm),u.xp6(6),u.Q6J("ngIf",(null==(l=r.reactForm.get("product"))?null:l.invalid)&&((null==(l=r.reactForm.get("product"))?null:l.touched)||(null==(l=r.reactForm.get("product"))?null:l.dirty))&&(null==(l=r.reactForm.get("product"))||null==l.errors?null:l.errors.required)),u.xp6(10),u.Q6J("ngIf",(null==(i=r.reactForm.get("name"))?null:i.invalid)&&((null==(i=r.reactForm.get("name"))?null:i.touched)||(null==(i=r.reactForm.get("name"))?null:i.dirty))&&(null==(i=r.reactForm.get("name"))||null==i.errors?null:i.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(d=r.reactForm.get("last_name"))?null:d.invalid)&&((null==(d=r.reactForm.get("last_name"))?null:d.touched)||(null==(d=r.reactForm.get("last_name"))?null:d.dirty))&&(null==(d=r.reactForm.get("last_name"))||null==d.errors?null:d.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(a=r.reactForm.get("phone"))?null:a.invalid)&&((null==(a=r.reactForm.get("phone"))?null:a.touched)||(null==(a=r.reactForm.get("phone"))?null:a.dirty))&&(null==(a=r.reactForm.get("phone"))||null==a.errors?null:a.errors.required)),u.xp6(6),u.Q6J("ngIf",(null==(c=r.reactForm.get("country"))?null:c.invalid)&&((null==(c=r.reactForm.get("country"))?null:c.touched)||(null==(c=r.reactForm.get("country"))?null:c.dirty))&&(null==(c=r.reactForm.get("country"))||null==c.errors?null:c.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(m=r.reactForm.get("zip"))?null:m.invalid)&&((null==(m=r.reactForm.get("zip"))?null:m.touched)||(null==(m=r.reactForm.get("zip"))?null:m.dirty))&&(null==(m=r.reactForm.get("zip"))||null==m.errors?null:m.errors.required)),u.xp6(6),u.Q6J("ngIf",(null==(s=r.reactForm.get("address"))?null:s.invalid)&&((null==(s=r.reactForm.get("address"))?null:s.touched)||(null==(s=r.reactForm.get("address"))?null:s.dirty))&&(null==(s=r.reactForm.get("address"))||null==s.errors?null:s.errors.required)),u.xp6(1),u.Q6J("disabled",r.reactForm.disabled||r.reactForm.invalid)}},dependencies:[v.O5,t._Y,t.Fj,t.JJ,t.JL,t.nD,t.sg,t.u],styles:[".container[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .form-order[_ngcontent-%COMP%]   input.ng-invalid.ng-dirty[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .form-order[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.container[_ngcontent-%COMP%]   .form-order[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block!important}.container[_ngcontent-%COMP%]   .form-order[_ngcontent-%COMP%]   .submit-error[_ngcontent-%COMP%]{display:none;color:red;position:absolute;bottom:150px}.container[_ngcontent-%COMP%]   .form-order-success[_ngcontent-%COMP%]{display:none}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[f.Bz.forChild(T),f.Bz]}),e})();var U=p(4466);let E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[v.ez,f.Bz,U.m,_,t.UX,_]}),e})()}}]);